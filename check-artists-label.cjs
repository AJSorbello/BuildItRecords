const { getPool } = require("./api/db-utils"); async function main() { const pool = getPool(); const client = await pool.connect(); try { console.log("Checking artists specifically for buildit-records"); const labelResult = await client.query("SELECT * FROM artists WHERE label_id = $1 LIMIT 10", ["buildit-records"]); console.log(`Found ${labelResult.rows.length} artists with label_id="buildit-records"`); if (labelResult.rows.length === 0) { console.log("Checking for any artists with label_id set:"); const anyLabelResult = await client.query("SELECT DISTINCT label_id FROM artists WHERE label_id IS NOT NULL"); console.log(`Found ${anyLabelResult.rows.length} distinct label_id values:`); anyLabelResult.rows.forEach(row => console.log(`  - ${row.label_id}`)); } } finally { client.release(); } } main().catch(console.error);
