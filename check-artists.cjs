const { Pool } = require("pg"); const pool = new Pool({ connectionString: process.env.POSTGRES_URL || "postgresql://postgres:postgresajs@localhost:5432/postgres" }); async function main() { const client = await pool.connect(); try { console.log("Checking all artists in the database"); const result = await client.query("SELECT * FROM artists LIMIT 10"); console.log(`Found ${result.rows.length} artists total`); if (result.rows.length > 0) { console.log("Sample artist:"); console.log(JSON.stringify(result.rows[0], null, 2)); console.log("Label IDs in the database:"); const labels = await client.query("SELECT DISTINCT label_id FROM artists"); labels.rows.forEach(row => console.log(`  - ${row.label_id}`)); } } finally { client.release(); } } main().catch(console.error);
